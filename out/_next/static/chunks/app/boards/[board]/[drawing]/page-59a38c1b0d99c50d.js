(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8344],{63775:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/brotli_wasm_bg.77986a83.wasm"},36164:(e,t,r)=>{Promise.resolve().then(r.bind(r,49380)),Promise.resolve().then(r.t.bind(r,48173,23))},49380:(e,t,r)=>{"use strict";let n;r.d(t,{default:()=>L});var o={};r.r(o),r.d(o,{BrotliStreamResult:()=>M,BrotliStreamResultCode:()=>E,CompressStream:()=>R,DecompressStream:()=>C,compress:()=>S,decompress:()=>P,default:()=>I});var l=r(95155),a=r(21956),s=r.n(a);r(8438);var i=r(12115);let _=Array(32).fill(void 0);_.push(void 0,null,!0,!1);let u=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});u.decode();let d=null;function c(){return(null===d||d.buffer!==n.memory.buffer)&&(d=new Uint8Array(n.memory.buffer)),d}function f(e,t){return u.decode(c().subarray(e,e+t))}let w=_.length;function b(e){w===_.length&&_.push(_.length+1);let t=w;return w=_[t],_[t]=e,t}let p=0,g=new TextEncoder("utf-8"),m="function"==typeof g.encodeInto?function(e,t){return g.encodeInto(e,t)}:function(e,t){let r=g.encode(e);return t.set(r),{read:e.length,written:r.length}};function y(e,t,r){if(void 0===r){let r=g.encode(e),n=t(r.length);return c().subarray(n,n+r.length).set(r),p=r.length,n}let n=e.length,o=t(n),l=c(),a=0;for(;a<n;a++){let t=e.charCodeAt(a);if(t>127)break;l[o+a]=t}if(a!==n){0!==a&&(e=e.slice(a)),o=r(o,n,n=a+3*e.length);let t=m(e,c().subarray(o+a,o+n));a+=t.written}return p=a,o}let h=null;function v(){return(null===h||h.buffer!==n.memory.buffer)&&(h=new Int32Array(n.memory.buffer)),h}function x(e){let t=_[e];return e<36||(_[e]=w,w=e),t}function j(e,t){let r=t(1*e.length);return c().set(e,r/1),p=e.length,r}let k=32;function O(e,t){return c().subarray(e/1,e/1+t)}function S(e,t){try{let s=n.__wbindgen_add_to_stack_pointer(-16),i=j(e,n.__wbindgen_malloc),u=p;n.compress(s,i,u,function(e){if(1==k)throw Error("out of js stack");return _[--k]=e,k}(t));var r=v()[s/4+0],o=v()[s/4+1],l=v()[s/4+2];if(v()[s/4+3])throw x(l);var a=O(r,o).slice();return n.__wbindgen_free(r,1*o),a}finally{n.__wbindgen_add_to_stack_pointer(16),_[k++]=void 0}}function P(e){try{let a=n.__wbindgen_add_to_stack_pointer(-16),s=j(e,n.__wbindgen_malloc),i=p;n.decompress(a,s,i);var t=v()[a/4+0],r=v()[a/4+1],o=v()[a/4+2];if(v()[a/4+3])throw x(o);var l=O(t,r).slice();return n.__wbindgen_free(t,1*r),l}finally{n.__wbindgen_add_to_stack_pointer(16)}}let E=Object.freeze({ResultSuccess:1,1:"ResultSuccess",NeedsMoreInput:2,2:"NeedsMoreInput",NeedsMoreOutput:3,3:"NeedsMoreOutput"});class M{static __wrap(e){let t=Object.create(M.prototype);return t.ptr=e,t}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();n.__wbg_brotlistreamresult_free(e)}get code(){return n.__wbg_get_brotlistreamresult_code(this.ptr)>>>0}set code(e){n.__wbg_set_brotlistreamresult_code(this.ptr,e)}get buf(){try{let o=n.__wbindgen_add_to_stack_pointer(-16);n.__wbg_get_brotlistreamresult_buf(o,this.ptr);var e=v()[o/4+0],t=v()[o/4+1],r=O(e,t).slice();return n.__wbindgen_free(e,1*t),r}finally{n.__wbindgen_add_to_stack_pointer(16)}}set buf(e){let t=j(e,n.__wbindgen_malloc),r=p;n.__wbg_set_brotlistreamresult_buf(this.ptr,t,r)}get input_offset(){return n.__wbg_get_brotlistreamresult_input_offset(this.ptr)>>>0}set input_offset(e){n.__wbg_set_brotlistreamresult_input_offset(this.ptr,e)}}class R{static __wrap(e){let t=Object.create(R.prototype);return t.ptr=e,t}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();n.__wbg_compressstream_free(e)}constructor(e){let t=n.compressstream_new(null!=e,null==e?0:e);return R.__wrap(t)}compress(e,t){try{let s=n.__wbindgen_add_to_stack_pointer(-16);var r=null==e?0:j(e,n.__wbindgen_malloc),o=p;n.compressstream_compress(s,this.ptr,r,o,t);var l=v()[s/4+0],a=v()[s/4+1];if(v()[s/4+2])throw x(a);return M.__wrap(l)}finally{n.__wbindgen_add_to_stack_pointer(16)}}total_out(){return n.compressstream_total_out(this.ptr)>>>0}}class C{static __wrap(e){let t=Object.create(C.prototype);return t.ptr=e,t}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();n.__wbg_decompressstream_free(e)}constructor(){let e=n.decompressstream_new();return C.__wrap(e)}decompress(e,t){try{let l=n.__wbindgen_add_to_stack_pointer(-16),a=j(e,n.__wbindgen_malloc),s=p;n.decompressstream_decompress(l,this.ptr,a,s,t);var r=v()[l/4+0],o=v()[l/4+1];if(v()[l/4+2])throw x(o);return M.__wrap(r)}finally{n.__wbindgen_add_to_stack_pointer(16)}}total_out(){return n.decompressstream_total_out(this.ptr)>>>0}}async function N(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"!=e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{let r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}async function A(e){void 0===e&&(e=new r.U(r(63775)));let t={};t.wbg={},t.wbg.__wbindgen_is_undefined=function(e){return void 0===_[e]},t.wbg.__wbindgen_is_object=function(e){let t=_[e];return"object"==typeof t&&null!==t},t.wbg.__wbindgen_string_new=function(e,t){return b(f(e,t))},t.wbg.__wbindgen_error_new=function(e,t){return b(Error(f(e,t)))},t.wbg.__wbindgen_json_serialize=function(e,t){let r=_[t],o=y(JSON.stringify(void 0===r?null:r),n.__wbindgen_malloc,n.__wbindgen_realloc),l=p;v()[e/4+1]=l,v()[e/4+0]=o},t.wbg.__wbg_new_693216e109162396=function(){return b(Error())},t.wbg.__wbg_stack_0ddaca5d1abfb52f=function(e,t){let r=y(_[t].stack,n.__wbindgen_malloc,n.__wbindgen_realloc),o=p;v()[e/4+1]=o,v()[e/4+0]=r},t.wbg.__wbg_error_09919627ac0992f5=function(e,t){try{console.error(f(e,t))}finally{n.__wbindgen_free(e,t)}},t.wbg.__wbindgen_object_drop_ref=function(e){x(e)},t.wbg.__wbindgen_throw=function(e,t){throw Error(f(e,t))},("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:o,module:l}=await N(await e,t);return n=o.exports,A.__wbindgen_wasm_module=l,n}let I=A,B=I().then(()=>o),U=s()(async()=>(await Promise.all([r.e(9527),r.e(1077),r.e(4120),r.e(1803)]).then(r.bind(r,56953))).Excalidraw,{loadableGenerated:{webpack:()=>[56953]},ssr:!1,loading:()=>(0,l.jsx)(W,{})});function W(){return(0,l.jsx)("div",{className:"h-full w-full flex items-center justify-center bg-gray-800 rounded-lg animate-pulse",children:(0,l.jsx)("div",{className:"text-gray-500 text-lg",children:"Loading Excalidraw..."})})}function L(e){let{board:t,drawing:r}=e,[n,o]=(0,i.useState)(null),[a,s]=(0,i.useState)(!0),[_,u]=(0,i.useState)(null);return(0,i.useEffect)(()=>{let e=!0;return(async()=>{s(!0),u(null);try{let n="/drawing-compressed/".concat(encodeURIComponent(t),"/").concat(encodeURIComponent(r),".excalidraw.br"),l=await fetch(n);if(!l.ok)throw Error("Failed to fetch file");let a=await l.arrayBuffer(),s=(await B).decompress(new Uint8Array(a)),i=new TextDecoder().decode(s),_=JSON.parse(i),u={..._,appState:{..._.appState||{},zoom:{value:.5},scrollX:0,scrollY:0}};e&&o(u)}catch(t){console.error("Error loading Excalidraw file:",t),e&&u("Failed to load drawing.")}finally{e&&s(!1)}})(),()=>{e=!1}},[t,r]),(0,l.jsx)("div",{className:"h-[calc(100vh-180px)] w-full max-w-[1200px] mx-auto rounded-lg overflow-hidden",children:a||!n?(0,l.jsx)(W,{}):_?(0,l.jsx)("div",{className:"text-red-500 text-center p-4",children:_}):(0,l.jsx)(U,{theme:"dark",viewModeEnabled:!0,initialData:n})})}},21956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=r(60306)._(r(30580));function o(e,t){var r;let o={};"function"==typeof e&&(o.loader=e);let l={...o,...t};return(0,n.default)({...l,modules:null==(r=l.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},39827:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return o}});let n=r(93719);function o(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new n.BailoutToCSRError(t);return r}},30580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return _}});let n=r(95155),o=r(12115),l=r(39827),a=r(79214);function s(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(s(()=>null)),loading:null,ssr:!0},_=function(e){let t={...i,...e},r=(0,o.lazy)(()=>t.loader().then(s)),_=t.loading;function u(e){let s=_?(0,n.jsx)(_,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,u=i?o.Suspense:o.Fragment,d=t.ssr?(0,n.jsxs)(n.Fragment,{children:["undefined"==typeof window?(0,n.jsx)(a.PreloadChunks,{moduleIds:t.modules}):null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(u,{...i?{fallback:s}:{},children:d})}return u.displayName="LoadableComponent",u}},79214:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return s}});let n=r(95155),o=r(47650),l=r(75861),a=r(18284);function s(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=l.workAsyncStorage.getStore();if(void 0===r)return null;let s=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files;s.push(...t)}}return 0===s.length?null:(0,n.jsx)(n.Fragment,{children:s.map(e=>{let t=r.assetPrefix+"/_next/"+(0,a.encodeURIPath)(e);return e.endsWith(".css")?(0,n.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,o.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},8438:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[1999,8173,8441,1517,7358],()=>t(36164)),_N_E=e.O()}]);